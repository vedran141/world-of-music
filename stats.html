<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistike | World of Music</title>
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SFV395CDMW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-SFV395CDMW');
    </script>
</head>
<body class="dark-theme">
    <header class="site-header">
        <a href="index.html" class="logo">World of Music</a>
        <nav class="nav">
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span><span></span><span></span>
            </button>
            <ul class="nav-links">
                <li><a href="index.html">Poƒçetna</a></li>
                <li><a href="classic_rock.html">Classic Rock</a></li>
                <li><a href="indie.html">Indie</a></li>
                <li><a href="funk.html">Funk</a></li>
                <li><a href="stats.html" class="active">Statistike</a></li>
                <li><a href="about.html">O projektu</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="page-header">
            <h1>üìä Analitika i Statistike</h1>
            <p>Analiza pona≈°anja korisnika i personalizirane preporuke</p>
        </div>

        <!-- Auth Section -->
        <section class="section">
            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 24px; flex-wrap: wrap;">
                <button id="login-btn" class="btn-primary" onclick="loginWithGoogle()">
                    üîê Prijavi se s Googleom
                </button>
                
                <div id="user-info" style="display: none; align-items: center; gap: 12px;">
                    <span id="user-name" style="color: #d0d0ff;"></span>
                    <button class="btn-primary" onclick="logoutUser()" style="background: linear-gradient(135deg, #ff4fa3, #7b5cff);">
                        Odjavi se
                    </button>
                </div>
            </div>

            <div id="analytics-content">
                <div style="text-align: center; padding: 40px;">
                    <p style="font-size: 18px; color: #d0d0ff;">Prijavite se za prikaz analitike</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <nav class="social-nav">
            <ul class="social-list">
                <li><a href="#"><img src="img/instagram-icon.svg" alt="Instagram"></a></li>
                <li><a href="#"><img src="img/x-icon.svg" alt="X (Twitter)"></a></li>
                <li><a href="#"><img src="img/spotify-icon.svg" alt="Spotify"></a></li>
            </ul>
        </nav>
        <p class="footer-copy">&copy; 2026 World of Music. All rights reserved.</p>
    </footer>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, collection, addDoc, query, where, getDocs, orderBy } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // ZAMIJENI sa svojim Firebase config!
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY_HERE",
            authDomain: "YOUR_PROJECT.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        const app = initializeApp(firebaseConfig);
        window.firebaseAuth = getAuth(app);
        window.firebaseDb = getFirestore(app);
        window.googleProvider = new GoogleAuthProvider();
        window.signInWithPopup = signInWithPopup;
        window.signOut = signOut;
        window.onAuthStateChanged = onAuthStateChanged;
        window.firestoreAddDoc = addDoc;
        window.firestoreCollection = collection;
        window.firestoreQuery = query;
        window.firestoreWhere = where;
        window.firestoreGetDocs = getDocs;
        window.firestoreOrderBy = orderBy;
    </script>

    <script src="js/analytics-graphs.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
